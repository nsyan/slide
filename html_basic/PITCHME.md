- HTMLとは
    - マークアップ
    - タグ
- 役割
- 歴史
    - W3CとWHATWG
- 昨今の実装上の課題
    - HTMLに対するエンジニアの興味
    - 『気にかけない』事によるデメリット
    - クローラ、検索エンジン側の進化
    - JavaScriptによる要素の書き換えとSEO
    - サービス視点、UX視点
- 昔は大変だったし今も大変（雑談）

---

## HTML（Hypertext Markup Language）とは

---

- HTML（Hypertext Markup Language）
- テキストや画像・各メディアの構成をブラウザに伝えて表示するためのマークアップ言語
    - プログラミング言語ではない
    - 文章を書く時に便利なMarkdown記法
- 各メディアの挿入や文書なども含めた要素の意味付け、レイアウトのためにタグを用いる
- 装飾は主にCSSの役割

---

### マークアップ

>マークアップとは、文書構造（テキスト）や視覚表現（装飾）などの情報を、コンピューターが正しく認識できるように、タイトルや見出しなどの各構成要素に「タグ」と呼ばれる識別のための目印を使い、意味付けを行っていくことを意味します。

```
<html lang= "ja">
    <head>
        <title>ソーシャルメディアのハッシュタグをサービスを問わず検索できる‑SHS</title>
        <link rel="stylesheet" src="/css/hoge.css">
    </head>

    <body>
        <h1>SHS</h1>
        <p>ソーシャルメディアのハッシュタグをサービスを問わず検索できる</p>
        ～～～
        <scriptsrc="/js/hoge.js"></script>
    </body>
</html>
```

---

### タグ

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/5753/d0963f91-9327-c6b5-441a-9d7639397873.png)
- 終了タグ（閉じタグ）を省略しない
    - ネスト（入れ子）させる時はタグを掛け違えないように
    - `<p>My cat is <strong>so cute.</p></strong>`
- 要素名と属性名は必ず小文字にする
- 属性値は原則としてダブルクォーテーションで囲む
- 空要素
    - `<img>, <link>`など、1つのタグで構成されて終了タグがない要素。

---

## 役割

---

- SEO（Search Engine Optimization）: 検索エンジン最適化
- セマンティック
    - microdata,json‑ldなどを用いた、明確なページ情報の定義（[構造化データ](https://developers.google.com/search/docs/guides/search-gallery)）
    - 文書構造の最適・標準化
    - HTMLは、二次活用される標準化されたデータのリソース
    - [阿部寛のホームページ](http://abehiroshi.la.coocan.jp/)
- CSR（Corporate Social Responsibility）: 企業の社会的責任/アクセシビリティ/標準化
    - 老舗企業、一次情報を有する企業は、正確な情報を提供する責任を持つべき
    - 標準化に則ったマークアップをすることで、下位互換・後方互換の担保、アクセシビリティの配慮（音声ブラウザ）ルール・市場変更などに伴うリスクを最小化できる可能性がある

---

## 歴史

---

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/5753/d728ddd7-1af7-db2f-207c-e13ca5d3de60.png)
- Web黎明期から複数社存在したブラウザベンダーが独自仕様を搭載。
- Webサイト制作者がにっちもさっちもいかなくなる状況に歯止めをかけるべく、国際標準ルールを制定するに至る。
- 各ブラウザベンダーは各国際標準に則り、一部の技術に関しては逆に牽引をしつつ継続的なブラウザのアップデートを実施している。

---

### W3CとWHATWG

#### W3C

- World Wide Web Consortium
- ダブリュースリーシー
- 350を超える加盟組織から成るウェブに関するルールや枠組みを整備する国際団体

#### WHATWG

- Web Hypertext Application Technology Working Group
- ワットダブルジー
- Apple、Mozilla、Opera（ブラウザベンダー）からの退職者たちによって2004年に設立された、ウェブアプリケーションのための HTML と各種 API を整備し発展させる組織。

---

- 標準化勧告に関してはW3Cが長年牽引してきたが、HTML5の草案⇒勧告あたりからはWHATWG側が牽引してきた。
- 現在ではバージョンを振らないWHATWGのLiving Standard[HTML Living Standard](https://html.spec.whatwg.org/multipage/)と、明確なバージョニングのもと勧告をする[W3C HTML 5\.3](https://www.w3.org/TR/2018/WD-html53-20181018/)が並走する形。
- 仕様書が複数存在している現状は7年以上も続いており、内容の食い違いや文書の管理などについて問題をはらんでいた。

---

<blockquote class="twitter-tweet" data-lang="ja"><p lang="en" dir="ltr">🗞 W3C and the WHATWG signed an agreement to collaborate on a single version of HTML and DOM <a href="https://t.co/UQVjTmH0g7">https://t.co/UQVjTmH0g7</a></p>&mdash; W3C (@w3c) <a href="https://twitter.com/w3c/status/1133300432133079041?ref_src=twsrc%5Etfw">2019年5月28日</a></blockquote>

W3Cは独自のHTML5という仕様策定を終了、WHATWGが管理している「Living Standard」に一元化することに両者が合意。

---

- HTMLとDOMの仕様策定は共同で行い、管理はこれまで通りWHATWGのリポジトリ。
- 今後は「HTML Living Standard」が一般的な呼び方になっていく？
- 長いので「HTML LS」？

---

## 昨今の実装上の課題

---

- 雑に書いても動くことから、ないがしろにされがち。
- 正しく、ないし効果的に書くことで得られるメリットが直接的ではなく間接的
    - 対クローラであれば、情報を的確に書いたことに対する効果は図りにくい
    - 正しい文書構造、間違った構造それぞれの状況下で起こるメリット・デメリットがダイレクトに見えない
    - ブラウザが優秀になってきている（閉じタグ補完など）

---

### HTMLに対するエンジニアの興味

- 書いたコードに対してブラウザ上で得られる挙動・結果がエンジニアの醍醐味。試行錯誤してコードを書き、意図した結果が得られるのはエンジニアリングの醍醐味。
- 雑で多少の間違いがあっても一見、意図通りに表示されてしまうHTMLは、書いたコードが動くことにより得られる達成感が他言語と比較して小さく、割いたコストに対して得られるメリットも間接的で不明瞭な部分も多い。
- 結果的に『HTMLは最低限の知識で誰でも書ける前提』を持ちエンジニアが興味を持てないことが多く、ないがしろにされることが多々ある。

---

### 『気にかけない』事によるデメリット

HTMLやJS、CSSなどを用いたブラウザ上での表現のみを気にかけ『クローラビリティ、SEO・UX（User Experience）面への影響』などの配慮がないままHTMLを書いてしまった場合。

- URL構造を全てクエリパラメータにしてしまった結果、適切なクローリングがされずに検索エンジン経由の流入が期待通りでない or 全く流入がない。
- 閉じタグが無いことで、とある一部のバージョンのブラウザで表示崩れが起きていた。

などの大きなデメリットを、いとも簡単に引き起こす可能性がある。

---

### クローラ、検索エンジン側の進化

- ユーザにとって明らかに有益なページがあり、にも関わらずHTMLの文書構造が正しくない場合、検索エンジン（=Googleとか）は文書構造が正しくない分だけ、そのページの評価を下げるだろうか？
- 恐らく答えはNo
- 文書構造に関しては、昨今ではクローラと収集データ解析の精度が増し、軽視してもそれほど問題はないという視点もあるが、検索エンジン側が『検索エンジン最適化ガイド』などの、最適化のための情報公開もしている以上、リリース後に計り知れない悪影響を引き起こさないために、しっかり理解した上でHTMLを構築するのが望ましい。

[検索エンジン最適化（SEO）スターター ガイド \- Search Console ヘルプ](https://support.google.com/webmasters/answer/7451184)

---

### JavaScriptによる要素の書き換えとSEO

- 一昔前はJavaScriptを用いたリッチなインターフェースによるUXの向上と、適切な文書構造構築によるクローラビリティの担保はトレードオフで相容れない時期もあった。
- クローラの精度も向上し、またSearchConsole内でクローラから見たJavaScriptの実行確認環境なども充実しており、非同期通信も含めたJavaScriptの利用によるクローラビリティ面でのデメリットは小さくなりつつある。
- クローラ（Googlebot）はクリック（ブラウザを操作）しない

---

### サービス視点、UX視点

- HTMLのタグ構造とタグの選定、構造化データの利用、URL構造などの仕様はSEO担当者やディレクターからの指示出しにより担保できる可能性もある
- 何をどう扱い、最終的にHTMLを担保するのはエンジニアになるはず。
- 興味を持たずにHTMLをないがしろにし、リリース後に負債を被った後で『知らなかった』で済まさない
- 事業成果に関連する機能の実装機会を逃さないために、興味・責任を持ってHTMLと向き合う必要がある。
- 言い方を変えれば、HTMLの組み方次第でユーザ体験の向上、企業活動の促進にも寄与できるということでもある。
- 「サービスの興味というかコードを書くことが好き」なエンジニアは、極端な事を言えばサービスに興味などなくても、誰よりも高い技術力を持って人を率いエンジニア陣のエース的な立ち位置で振る舞う指向性を持つ
- そこから更にサービス・ユーザー観点を持って技術のサービス転換ができるようになると、より価値ある存在となれる。

---

## 昔は大変だったし今も大変（雑談）

---

### 昔は大変だった

- tableタグはレイアウトのためのもの
- fontタグ
- FFFTP
- 大量の隠しキーワード
- 腐った牛乳ことIE6、IE7、IE8、IE9
- Android 2系

---

### 今も大変

- 勃興が凄まじすぎるフロントエンド技術
- 世に溢れ出ては消えるライブラリやフレームワーク
- [Web Developer Roadmap 2018が2019年版になっていたので比較してみる \- Qiita](https://qiita.com/ushironoko/items/a2420cf4a28af56907e5#-front-end-roadmap)
- 深呼吸して落ち着く
- やりたいこと（やらなくてはいけないこと）を見極める
